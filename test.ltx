% Copyright 2021 Jeffrey Kegler
% This document is licensed under
% a Creative Commons Attribution-NoDerivs 3.0 United States License.
\documentclass[draft,openany,12pt]{amsbook}
\usepackage{calc} % calc is required by todonotes
\usepackage{xstring}
\usepackage{refcount}
\usepackage{ifdraft}

\newcommand{\setFns}{\ensuremath{\mathrel{\ni\joinrel\rightarrow}}}
\newcommand{\Ds}{\ensuremath{\mathbb{D}{\rm s}}}
\newcommand{\eqWClOp}[1]{\mathrel{=:\joinrel{#1}}}
\newcommand{\eqClOp}[1]{\ensuremath{=_{#1}}}
\newcommand{\eqWTyOp}{\ensuremath{\eqWClOp{\Ds}}}
\newcommand{\eqTyOp}{\ensuremath{\eqClOp{\Ds}}}

\newcommand{\DRel}[1]{\ensuremath{\mathrel{{\raise-.3pt\hbox{$\diamondsuit$}}\mkern-1mu{#1}}}}
\newcommand{\DDRel}[1]{\ensuremath{\mathrel{%
  \raise-.3pt\hbox{${\diamondsuit}\mkern-11mu{\diamondsuit}$}%
  \mkern-1mu{#1}}}}
\newcommand{\DEqWClOp}[1]{\DRel{\mathrel{=:\joinrel{#1}}}}
\newcommand{\DEqClOp}[1]{\DRel{\ensuremath{=_{#1}}}}
\newcommand{\DEqWTyOp}{\DRel{\ensuremath{\eqWClOp{\Ds}}}}
\newcommand{\DEqTyOp}{\DRel{\ensuremath{\eqClOp{\Ds}}}}
\newcommand{\DDEqWClOp}[1]{\DDRel{\mathrel{=:\joinrel{#1}}}}
\newcommand{\DDEqClOp}[1]{\DDRel{\ensuremath{=_{#1}}}}
\newcommand{\DDEqWTyOp}{\DDRel{\ensuremath{\eqWClOp{\Ds}}}}
\newcommand{\DDEqTyOp}{\DDRel{\ensuremath{\eqClOp{\Ds}}}}

\begin{document}

\chapter{TEST}
\tracingmacros=1

Normal size type for comparison
$\eqWClOp{\ensuremath{\alpha}}$
$\eqWClOp{\text{ty}}$

Normal size type for comparison
\DEqWClOp{\ensuremath{\alpha}}
\DEqWClOp{\text{ty}}

Normal size type for comparison
\DDEqWClOp{\ensuremath{\alpha}}
\DDEqWClOp{\text{ty}}

$$ X \eqWClOp{\ensuremath{\alpha}} Y
  \qquad X \eqWClOp{\text{ty}} Y
  \qquad x \eqWClOp{\ensuremath{\alpha}} y
  \qquad x \eqWClOp{\text{ty}} y $$

$$ X \DEqWClOp{\ensuremath{\alpha}} Y
  \qquad X \DEqWClOp{\text{ty}} Y
  \qquad x \DEqWClOp{\ensuremath{\alpha}} y
  \qquad x \DEqWClOp{\text{ty}} y $$

$$ X \DDEqWClOp{\ensuremath{\alpha}} Y
  \qquad X \DDEqWClOp{\text{ty}} Y
  \qquad x \DDEqWClOp{\ensuremath{\alpha}} y
  \qquad x \DDEqWClOp{\text{ty}} y $$

Wide type equality: $\eqWTyOp{a}$

Wide type equality: $\DEqWTyOp{a}$

Wide type equality: $\DDEqWTyOp{a}$

Fork arrow: \setFns

\end{document}
