% Copyright 2021 Jeffrey Kegler
% This document is licensed under
% a Creative Commons Attribution-NoDerivs 3.0 United States License.
\documentclass[draft,openany,12pt]{amsbook}
\usepackage{calc} % calc is required by todonotes
\usepackage{xstring}
\usepackage{refcount}
\usepackage{fancybox}
\usepackage{ifdraft}

\newcommand{\setFns}{\ensuremath{\mathrel{\ni\joinrel\rightarrow}}}

\newcommand{\V}[1]{\ensuremath{\texttt{#1}}}
\newcommand{\Vstr}[1]{\doublebox{\ensuremath{\mathstrut\V{#1}}}}
\newcommand{\cellboxrWidth}{4.5in}
\setlength{\fboxsep}{0pt}


\newsavebox{\myBox}
\newlength{\myHt}
\newlength{\myDp}
\newlength{\myWd}
\newcommand{\padBox}[3]{%
    \savebox{\myBox}{\ignorespaces#3}%
    \usebox{\myBox} \myHt=\ht\myBox \myDp=\dp\myBox%
    \vrule height\dimexpr\myHt+#1 depth\dimexpr\myDp+#2 width0pt%
}

\begin{document}

\chapter{TEST}
\tracingmacros=1

\the\dimexpr\linewidth-4pt\relax

\renewcommand{\cellboxrWidth}{4.5in}
\the\myHt{} \the\myDp

\fbox{\parbox{\cellboxrWidth}{\raggedright
    string \V{b} after string \V{a}:
    \padBox{2pt}{2pt}{$\Vstr{a} \Vstr{b}$}
    }}

Fork arrow: \setFns

\end{document}
