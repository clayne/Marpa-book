% Copyright 2021 Jeffrey Kegler
% This document is licensed under
% a Creative Commons Attribution-NoDerivs 3.0 United States License.
\documentclass[draft,openany,12pt]{amsbook}
\usepackage{calc} % calc is required by todonotes
\usepackage{xstring}
\usepackage{refcount}
\usepackage{ifdraft}

\newcommand{\labPrefix}{UNSET}
\newcommand{\mylab}[2][null]{\label{#1\labPrefix-#2}}
\newcommand{\Elab}[1]{\mylab[eq:]{#1}}
\begin{document}

\chapter{TEST}
\renewcommand{\labPrefix}{TEST}
\tracingmacros=1
hi 1
\Elab{100}
hi 2
\Elab{200}

Label 100 is \ref{eq:TEST-100} on \pageref{eq:TEST-100}
Label 200 is \ref{eq:TEST-200} on \pageref{eq:TEST-200}

\end{document}
